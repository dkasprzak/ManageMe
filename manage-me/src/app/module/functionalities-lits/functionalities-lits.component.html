<div class="wrapper">
    <div class="title-container">
      <h3 class="page-title">FUNCTIONALITIES LIST</h3>
      <h4 class="page-subtitle">- {{ projectName }} -</h4>
    </div>
    <div class="icon-wrapper">
        <button class="add-icon" matTooltip="Add New Functionality" (click)="addNewFunctionality()">
            <img src="../../../../assets/icons/add_task_black_24dp.svg" alt="add task" />
        </button>
    </div>
    <div class="wrapper-table">
        <table mat-table [dataSource]="dataSource" class="table">
          <ng-container matColumnDef="Name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Functionality</th>
            <td mat-cell *matCellDef="let functionality">{{ functionality.name }}</td>
          </ng-container>
    
          <ng-container matColumnDef="Description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
            <td mat-cell *matCellDef="let functionality">{{ functionality.description }}</td>
          </ng-container>
    
          <ng-container matColumnDef="Project">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Project</th>
            <td mat-cell *matCellDef="let functionality">{{ functionality.project }}</td>
          </ng-container>
    
          <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let functionality">
              <p
                [class.red-alert-todo]="isAlert(functionality) === 'RED'"
                [class.orange-alert-doing]="isAlert(functionality) === 'ORANGE'"
                [class.green-alert-done]="isAlert(functionality) === 'GREEN'"
                class="status-state"
              >
                {{ functionality.status | capitalLetterFirst }}
              </p>
            </td>
          </ng-container>
    
          <ng-container matColumnDef="Owner">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Owner</th>
            <td mat-cell *matCellDef="let functionality">{{ functionality.owner }}</td>
          </ng-container>
          <ng-container matColumnDef="Priority">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Priority</th>
            <td mat-cell *matCellDef="let functionality">{{ functionality.priority | capitalLetterFirst}}</td>
          </ng-container>
    
          <ng-container matColumnDef="Actions">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Actions</th>
            <td mat-cell *matCellDef="let functionality" style="white-space: nowrap">
              <button
                class="btn-actions-icon"
                matTooltip="Delete Functionality"
                (click)="deleteFunctionality($event, functionality.id)"
              >
                <img src="../../../assets/icons/delete.svg" />
              </button>
              <button
                class="btn-actions-icon"
                matTooltip="Edit Functionality"
                (click)="editFunctionality($event, functionality)"
              >
                <img src="../../../assets/icons/edit.svg" />
              </button>
              <button
                class="btn-actions-icon"
                matTooltip="More Info"
                (click)="moreInfoFunctionality($event, functionality)"
              >
                <img src="../../../../assets/icons/info_black_24dp.svg" />
              </button>
            </td>
          </ng-container>
    
          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let functionality; columns: displayedColumns"></tr>
        </table>
</div>
